(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9bad9844"],{1305:function(t,e,r){},"1dc8":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main_box"},[r("div",{staticClass:"search_box"},[r("Button",{attrs:{type:"primary"},on:{click:t.goAddOrder}},[t._v("新增自动工单")])],1),r("div",{staticStyle:{"margin-top":"20px"}},[r("Table",{attrs:{border:"",columns:t.auto_columns,data:t.auto_order_list,loading:t.loading},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row;e.index;return[r("Poptip",{attrs:{confirm:"",title:"确定删除?"},on:{"on-ok":function(e){t.remove(n)}}},[r("Button",{attrs:{type:"error",size:"small"}},[t._v("删除")])],1)]}}])}),r("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[r("Page",{attrs:{total:t.auto_count,"show-total":""}})],1)],1)])},a=[],i=r("be94"),o=(r("96cf"),r("1da1")),s=r("0a21"),u={name:"order_list",data:function(){return{loading:!1,auto_columns:[{title:"客户名称",key:"companyName",align:"center"},{title:"设备名称",key:"equipmentName",align:"center"},{title:"循环周期(天)",key:"cycle",align:"center",width:120},{title:"问题描述",key:"serverNote",align:"center"},{title:"处理人",key:"userName",align:"center",width:80},{title:"上次生成时间",key:"pricreateTime",align:"center"},{title:"操作",slot:"action",width:130}],auto_order_list:[],auto_page:1,auto_page_size:10,auto_count:0}},mounted:function(){this.getAutoList()},methods:{goAddOrder:function(){this.$router.push({path:"/workOrder/add_auto_order"})},getAutoList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,r,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={num:this.auto_page,size:this.auto_page_size},this.loading=!0,t.next=4,this.$service.autoOrder.getList(e);case 4:if(r=t.sent,n=r.err,a=r.data,this.loading=!1,!n){t.next=11;break}return this.$Message.error(n.message),t.abrupt("return");case 11:this.auto_order_list=a.data.list,this.auto_count=a.data.count;case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),remove:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var r,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$service.autoOrder.deleteOrder(e.id);case 2:if(r=t.sent,n=r.err,a=r.data,!n){t.next=8;break}return this.$Message.error(n.message),t.abrupt("return");case 8:this.$Message.success(a.message),this.getAutoList();case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),exportExcel:function(){if(this.order_list.length){this.exportLoading=!0;var t=this.columns.map(function(t){if(t.key)return t.title}).filter(function(t){return void 0!=t}),e=this.columns.map(function(t){if(t.key)return t.key}).filter(function(t){return void 0!=t}),r=this.order_list.map(function(t){return Object(i["a"])({},t,{order_state:1==t.order_state?"待派工":2==t.order_state?"待完工":3==t.order_state?"已完工":"其他"})}),n={title:t,key:e,data:r,autoWidth:!0,filename:"工单列表"};s["a"].export_array_to_excel(n),this.exportLoading=!1}else this.$Message.info("表格数据不能为空！")}}},c=u,l=(r("7a66"),r("2877")),d=Object(l["a"])(c,n,a,!1,null,null,null);d.options.__file="auto_order_list.vue";e["default"]=d.exports},"7a66":function(t,e,r){"use strict";var n=r("1305"),a=r.n(n);a.a}}]);
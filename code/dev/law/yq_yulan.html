<!DOCTYPE html>
<html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<meta name="keywords" content="" /> 
<meta name="description" content="">
<link rel="stylesheet" type="text/css" href="font/iconfont.css">
<link type="text/css" rel="stylesheet" href="css/public.css" />
<link type="text/css" rel="stylesheet" href="css/index.css" />
	<!-- 引入样式 -->
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	<script src="js/vue.js" type="text/javascript"></script>
	<script src="js/util.js" type="text/javascript"></script>
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/my.js" type="text/javascript"></script>
<title>已签预览</title>

<body>
	<div id="app">
		<header class="other_header">
			<div class="head_box">
				<a href="./yq_hetong.html" class="head_left"><i class="iconfont">&#xe6d9;</i></a>
				<span>已签预览</span>
				<a href="" class="head_right"></a>
			</div>
		</header>
		<section>
			<div class="already_text">
				<div class="already_top">
					<span>合同编号：1254656464</span>
					<h1>载莜道科技劳动合同</h1>
				</div>
			</div>
			<div class="contract_nav">
				<p>出租方（甲方）姓名：_______ 身份证号：_______ </p>
				<p>出租方（甲方）姓名：_______ 身份证号：_______ </p>
				<p></p>
				<p>出租方（甲方）姓名：_______ 身份证号：_______ </p>
				<p>出租方（甲方）姓名：_______ 身份证号：_______ </p>
			</div>
		</section>
		<div class="enclosure public_ul">
			<ul>
				<li class="one">
					<a href="ht_fujian.html"><i class="iconfont">&#xe7af;</i>附件1</a>
				</li>
				<li class="one">
					<a href="ht_fujian.html"><i class="iconfont">&#xe7af;</i>附件1</a>
				</li>
				<li class="two">
					<a href="#"  download=""><i class="iconfont">&#xe7b0;</i>下载</a>
				</li>
			</ul>
		</div>
	</div>
	<script>
		var app = new Vue({
			el: '#app',
			data:{
			  loading: false,
				xid: '',
			},
			mounted(){
			  this.getId()
				this.getWord()
			},
			methods:{
        // 判断是否有xid
        getId(){
          const that = this
          that.xid = sessionStorage.getItem('xid')
          if(!that.xid){
            that.$message.error('未知用户，请重新登录')
            setTimeout(()=>{
              window.location = './login.html'
            },1500)
          }
        },
				//
				getUserInfo(){
          $.ajax({
            type:"get",
            url: `https://ec2-18-209-228-104.compute-1.amazonaws.com:8443/v1/user`,
            dataType: "json",
            ContentType: "application/json",
            data:{
              email :'17852909766@netLaw.com'
            },
            success:(res)=>{
              console.log(res);
            }
          })
				},
			  // 获取合同预览
        getWord(){
          const that = this
					const id = getUrlKey('id')
          that.loading = true
          $.ajax({
            type:"get",
            url: `https://ec2-18-209-228-104.compute-1.amazonaws.com:8443/v1/session/${id}/download`,
            dataType: "json",
            ContentType: "application/json",
            beforeSend: function (XMLHttpRequest) {
            	XMLHttpRequest.setRequestHeader('x-dc-uid', that.xid);
            },
						headers:{
              'X-DC-UID':that.xid
						},
            success:(res)=>{
              console.log(res);
            }
          })
          return
          network({
            params: {
              "session_id ": id
            },
            path: `session/${id}/download`,
            method: 'get',
            head: [
              "Content-Type: application/json",
              `x-dc-uid: ${that.xid}`
            ],
            success: function (e) {
              that.loading = false
              const data = JSON.parse(e);
              console.log(data)
            }
          })
        },
			}
		})
	</script>
</body>
</html>
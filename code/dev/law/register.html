<!DOCTYPE html>
<html class="no-js">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
<meta name="keywords" content="" /> 
<meta name="description" content="">
<link rel="stylesheet" type="text/css" href="font/iconfont.css">
<link type="text/css" rel="stylesheet" href="css/public.css" />
<link type="text/css" rel="stylesheet" href="css/index.css" />
  <script src="js/vue.js" type="text/javascript"></script>
  <script src="js/util.js" type="text/javascript"></script>
<script src="js/jquery.js" type="text/javascript"></script>
<script src="js/my.js" type="text/javascript"></script>
<title>注册</title>
  <style>
    .get_code_btn_none{
      pointer-events: none;
    }
  </style>
<body>
<div id="app">
  <header>
    <div class="head_box">
      <a href="javascript:;" @click="goBack" class="head_left"><i class="iconfont">&#xe6cf;</i></a>
      <span>注册</span>
      <a href="" class="head_right"></a>
    </div>
  </header>
  <section>
    <div class="register_form">
      <form action="">
        <ul>
          <li>
            <input class="input_style" name="username" type="number" placeholder="请输入手机号" id="mobile" :value="phone">
          </li>
          <li>
            <input class="input_style" type="number" maxlength="6"  placeholder="请输入验证码" value="code">
            <a :class="messageDisabled?'get_code_btn_none':''" style="z-index: 2;" href="javascript:;" @click="sendMessage">{{messageCodeText}}</a>
          </li>
          <li>
            <input class="input_style" type="password"  placeholder="密码" :value="password">
          </li>
          <li>
            <input class="input_style" type="password"  placeholder="确认密码" :value="passwordAgain">
          </li>
        </ul>
        <div class="agreement">
          <i class="iconfont ">&#xe6e0;</i>我已阅读并同意<a href="#">《用户注册协议》</a>
        </div>
        <div class="submit_button">
          <input type="submit" value="注册">
        </div>
      </form>
    </div>
  </section>
  <div class="loading_box" v-if="loading">
    <div class="loader loader--style1" title="0">
      <svg version="1.1" id="loader-1" x="0px" y="0px"
   width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
  <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
    s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
    c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"/>
  <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
    C22.32,8.481,24.301,9.057,26.013,10.047z">
    <animateTransform attributeType="xml"
      attributeName="transform"
      type="rotate"
      from="0 20 20"
      to="360 20 20"
      dur="0.5s"
      repeatCount="indefinite"/>
    </path>
  </svg>
    </div>
  </div>
</div>
</body>
<script>
  var app = new Vue({
    el: '#app',
    data:{
      loading:false,
      phone: '',
      code: '',
      password: '',
      passwordAgain: '',
      messageCodeText: '获取验证码',
      messageDisabled: true,


    },
    mounted(){},
    methods:{
      sendMessage(){
        const that = this
        var time = 60
        that.messageCodeText = time + '秒'
        that.messageDisabled = true
        var stop = setInterval(() => {
          if (time !== 0) {
            time--
            that.messageCodeText = time + '秒'
            that.messageDisabled = true
          }
        }, 1000)
        setTimeout(() => {
          clearInterval(stop);
          that.messageCodeText = '获取验证码'
          that.messageDisabled = false
        }, 60000)
      },
    }
  })
</script>
</html>
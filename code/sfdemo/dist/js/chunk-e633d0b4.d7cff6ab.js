(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e633d0b4"],{"3f53":function(t,e,a){},7292:function(t,e,a){"use strict";var r=a("3f53"),n=a.n(r);n.a},"77c8":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main_box"},[a("span",{staticClass:"title_span"},[t._v("新增备件")]),a("div",{staticClass:"content_box"},[a("Form",{ref:"spareForm",attrs:{rules:t.spare_rules,model:t.form_data,"label-position":"right","label-width":80}},[a("FormItem",{attrs:{label:"备件名称",prop:"equipmentPartName"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请详细输入名称、品牌、规格等"},model:{value:t.form_data.equipmentPartName,callback:function(e){t.$set(t.form_data,"equipmentPartName",e)},expression:"form_data.equipmentPartName"}})],1),a("FormItem",{attrs:{label:"备件说明",prop:"description"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入所用设备/项目等"},model:{value:t.form_data.description,callback:function(e){t.$set(t.form_data,"description",e)},expression:"form_data.description"}})],1),a("div"),a("FormItem",{attrs:{label:"入库数量",prop:"amount"}},[a("InputNumber",{attrs:{min:0},model:{value:t.form_data.amount,callback:function(e){t.$set(t.form_data,"amount",e)},expression:"form_data.amount"}})],1),a("div"),a("FormItem",{attrs:{label:"备注"}},[a("Input",{staticStyle:{width:"300px","font-size":"10px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入备注"},model:{value:t.form_data.remark,callback:function(e){t.$set(t.form_data,"remark",e)},expression:"form_data.remark"}})],1)],1),a("Button",{staticStyle:{margin:"20px"},attrs:{type:"primary"},on:{click:t.saveSpare}},[t._v("保存")])],1)])},n=[],o=(a("96cf"),a("1da1")),s=a("ab80"),i={name:"index",components:{Customer:s["a"]},data:function(){return{form_data:{equipmentPartName:"",description:"",amount:0,remark:""},spare_rules:{equipmentPartName:[{required:!0,message:"备件名称不允许为空",trigger:"blur"}],description:[{required:!0,message:"备件说明不允许为空",trigger:"blur"}]},modalShow:!0}},methods:{saveSpare:function(){var t=this;this.$refs["spareForm"].validate(function(e){e?t.addSpare():t.$Message.error("请按要求输入")})},addSpare:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,a,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={equipmentPartName:this.form_data.equipmentPartName,description:this.form_data.description,amount:this.form_data.amount,remark:this.form_data.remark},t.next=3,this.$service.spare.addSpare(e);case 3:if(a=t.sent,r=a.err,n=a.data,!r){t.next=9;break}return this.$Message.error(r.message),t.abrupt("return");case 9:this.$Message.success(n.message),this.$router.push({name:"spare_list"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},c=i,l=(a("7fb0"),a("2877")),u=Object(l["a"])(c,r,n,!1,null,"09faecff",null);u.options.__file="add_spare.vue";e["default"]=u.exports},"7fb0":function(t,e,a){"use strict";var r=a("81a1"),n=a.n(r);n.a},"81a1":function(t,e,a){},ab80:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{width:"600",title:"选择客户"},on:{"on-ok":t.ok},model:{value:t.show_modal,callback:function(e){t.show_modal=e},expression:"show_modal"}},[a("div",[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字查询..."},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("Button",{staticStyle:{"margin-left":"10px"}},[t._v("搜索")]),a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[t._v("新增客户")])],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("Table",{ref:"modalTable",attrs:{border:"",columns:t.columns,data:t.customerList},scopedSlots:t._u([{key:"action",fn:function(e){e.row;var r=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.lookDetail(r)}}},[t._v("详情")])]}}])})],1)])},n=[],o={name:"customer",data:function(){var t=this;return{show_modal:!1,keyword:"",currentChoose:"",columns:[{width:60,title:"选择",key:"id",align:"center",render:function(e,a){var r=a.row.id,n=!1;n=t.currentChoose===r;var o=t;return e("div",[e("Radio",{props:{value:n},on:{"on-change":function(){o.currentChoose=r}}})])}},{title:"客户名称",key:"name",align:"center"},{title:"联系人",key:"contact",align:"center",width:80},{title:"联系电话",key:"phone",align:"center"},{title:"详细地址",key:"address",align:"center"},{title:"操作",slot:"action",align:"center",width:70}],customerList:[{id:"0",name:"市政府",contact:"李主任",phone:"0530-88888888",address:"中华路108号"},{id:"1",name:"市公安局",contact:"王科长",phone:"0530-88888888",address:"中华路118号"},{id:"2",name:"市交通局",contact:"李主任",phone:"0530-88888888",address:"中华路138号"}]}},methods:{show:function(){this.show_modal=!0},lookDetail:function(t){},ok:function(t){if(this.currentChoose){var e=this.customerList[this.currentChoose];this.$emit("setCustomer",e)}else this.$Message.error("请选择客户")}}},s=o,i=(a("7292"),a("2877")),c=Object(i["a"])(s,r,n,!1,null,"25f3fd9a",null);c.options.__file="customer.vue";e["a"]=c.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51b5be7e"],{8777:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main_box"},[a("div",{staticClass:"top_box"},[a("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出EXCEL")])],1),a("div",{staticClass:"search_box"},[a("span",[e._v("选择人员：")]),a("Select",{staticStyle:{width:"100px"},model:{value:e.filter_staff,callback:function(t){e.filter_staff=t},expression:"filter_staff"}},e._l(e.staffList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单时间：")]),a("Select",{staticClass:"date_select",staticStyle:{width:"100px"},model:{value:e.filter_date,callback:function(t){e.filter_date=t},expression:"filter_date"}},e._l(e.dateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),e.filter_date==e.dateList.length-1?a("DatePicker",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{options:e.invalidDate,type:"daterange",placement:"bottom-end",placeholder:"自定义时间"}}):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单状态：")]),a("Select",{staticStyle:{width:"100px"},model:{value:e.filter_state,callback:function(t){e.filter_state=t},expression:"filter_state"}},e._l(e.stateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("服务类型：")]),a("Select",{staticStyle:{width:"100px"},model:{value:e.filter_type,callback:function(t){e.filter_type=t},expression:"filter_type"}},e._l(e.typeList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("Row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:20}},[a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:8}},[a("Card",{attrs:{shadow:""}},[a("chart-pie",{staticStyle:{height:"300px"},attrs:{value:e.pieData,text:"本月工单占比"}})],1)],1),a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:16}},[a("Card",{attrs:{shadow:""}},[a("chart-bar",{staticStyle:{height:"300px"},attrs:{value:e.barData,text:"本周工单统计"}})],1)],1)],1),a("Table",{attrs:{border:"",columns:e.columns,data:e.order_list},scopedSlots:e._u([{key:"order_state",fn:function(t){var l=t.row;t.index;return[1==l.order_state?a("span",{staticStyle:{color:"#EE6542"}},[e._v("待派工")]):e._e(),2==l.order_state?a("span",{staticStyle:{color:"#FFAD33"}},[e._v("待完工")]):e._e(),3==l.order_state?a("span",{staticStyle:{color:"#47CB89"}},[e._v("已完工")]):e._e()]}}])}),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("Page",{attrs:{total:e.order_total,"show-total":""}})],1)],1)])},r=[],i=a("be94"),o=a("0a21"),s=a("c9ae"),n={name:"order_list",components:{ChartPie:s["b"],ChartBar:s["a"]},data:function(){return{filter_staff:"",staffList:[{label:"王小虎",value:"1"},{label:"雷小军",value:"2"},{label:"李小宏",value:"3"}],filter_date:"0",dateList:[{label:"全部",value:"0"},{label:"今日",value:"1"},{label:"昨日",value:"2"},{label:"本周",value:"3"},{label:"本月",value:"4"},{label:"本年度",value:"5"},{label:"自定义",value:"6"}],invalidDate:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},filter_keyword:"",filter_state:"0",stateList:[{label:"全部",value:"0"},{label:"待派工",value:"1"},{label:"待完工",value:"2"},{label:"已完成",value:"3"}],filter_type:"0",typeList:[{label:"全部",value:"0"},{label:"维修",value:"1"},{label:"保养",value:"2"}],pieData:[{value:335,name:"维修工单"},{value:310,name:"保养工单"},{value:22,name:"突发工单"},{value:35,name:"异常工单"}],barData:{Mon:13253,Tue:34235,Wed:26321,Thu:12340,Fri:24643,Sat:1322,Sun:1324},columns:[{title:"工单号",key:"order_no",align:"center"},{title:"工单状态",key:"order_state",slot:"order_state",align:"center"},{title:"报单时间",key:"order_time",align:"center"},{title:"客户名称",key:"customer_name",align:"center"},{title:"问题描述",key:"desc",align:"center"},{title:"处理方式",key:"solve",align:"center",width:90},{title:"处理详情",key:"solve_detail",align:"center"},{title:"处理人",key:"solve_people",align:"center",width:80},{title:"处理时间",key:"solve_time",align:"center"}],order_list:[{order_no:"AN201909241512001",order_state:"1",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"远程解决",solve_detail:"",solve_people:"",solve_time:""},{order_no:"AN201909241512002",order_state:"2",order_time:"2019-09-24 15:12",customer_name:"开发区政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"上门维修",solve_detail:"路由器断电5秒后重启，问题解决",solve_people:"李彦宏"},{order_no:"AN201909241512001",order_state:"3",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"远程解决",solve_detail:"路由器断电5秒后重启，问题解决",solve_people:"马化腾",solve_time:"2019-09-24 15:24"}],order_total:3,exportLoading:!1}},methods:{showDetail:function(){},remove:function(){},goAddOrder:function(){this.$router.push({path:"/workOrder/add_order"})},exportExcel:function(){if(this.order_list.length){this.exportLoading=!0;var e=this.columns.map(function(e){if(e.key)return e.title}).filter(function(e){return void 0!=e}),t=this.columns.map(function(e){if(e.key)return e.key}).filter(function(e){return void 0!=e}),a=this.order_list.map(function(e){return Object(i["a"])({},e,{order_state:1==e.order_state?"待派工":2==e.order_state?"待完工":3==e.order_state?"已完工":"其他"})}),l={title:e,key:t,data:a,autoWidth:!0,filename:"工单列表"};o["a"].export_array_to_excel(l),this.exportLoading=!1}else this.$Message.info("表格数据不能为空！")}}},c=n,u=(a("b664"),a("2877")),d=Object(u["a"])(c,l,r,!1,null,null,null);d.options.__file="per_list.vue";t["default"]=d.exports},b664:function(e,t,a){"use strict";var l=a("d7c6"),r=a.n(l);r.a},d7c6:function(e,t,a){}}]);
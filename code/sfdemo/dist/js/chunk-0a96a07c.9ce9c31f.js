(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a96a07c"],{"16bf":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"main_box"},[l("div",{staticClass:"top_box"},[l("Button",{attrs:{type:"primary"},on:{click:e.goAddOrder}},[e._v("新增工单")]),l("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出EXCEL")])],1),l("div",{staticClass:"search_box"},[l("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入关键词查询",search:""},model:{value:e.filter_keyword,callback:function(t){e.filter_keyword=t},expression:"filter_keyword"}}),l("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单时间：")]),l("Select",{staticClass:"date_select",staticStyle:{width:"100px"},model:{value:e.filter_date,callback:function(t){e.filter_date=t},expression:"filter_date"}},e._l(e.dateList,function(t){return l("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),e.filter_date==e.dateList.length-1?l("DatePicker",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{options:e.invalidDate,type:"daterange",placement:"bottom-end",placeholder:"自定义时间"}}):e._e(),l("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单状态：")]),l("Select",{staticStyle:{width:"100px"},model:{value:e.filter_state,callback:function(t){e.filter_state=t},expression:"filter_state"}},e._l(e.stateList,function(t){return l("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),l("span",{staticStyle:{"margin-left":"10px"}},[e._v("服务类型：")]),l("Select",{staticStyle:{width:"100px"},model:{value:e.filter_type,callback:function(t){e.filter_type=t},expression:"filter_type"}},e._l(e.typeList,function(t){return l("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),l("div",{staticStyle:{"margin-top":"20px"}},[l("Table",{attrs:{border:"",columns:e.columns,data:e.order_list},scopedSlots:e._u([{key:"order_state",fn:function(t){var a=t.row;t.index;return[1==a.order_state?l("span",{staticStyle:{color:"#EE6542"}},[e._v("待派工")]):e._e(),2==a.order_state?l("span",{staticStyle:{color:"#FFAD33"}},[e._v("待完工")]):e._e(),3==a.order_state?l("span",{staticStyle:{color:"#47CB89"}},[e._v("已完工")]):e._e()]}},{key:"action",fn:function(t){var a=t.row,r=t.index;return[1==a.order_state?l("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(t){e.showDetail(r)}}},[e._v("派工")]):e._e(),2==a.order_state?l("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){e.showDetail(r)}}},[e._v("编辑")]):e._e(),3==a.order_state?l("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.showDetail(r)}}},[e._v("查看")]):e._e(),l("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.remove(r)}}},[e._v("删除")])]}}])}),l("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[l("Page",{attrs:{total:e.order_total,"show-total":""}})],1)],1)])},r=[],i=l("be94"),o=l("0a21"),n={name:"order_list",data:function(){return{filter_date:"0",dateList:[{label:"全部",value:"0"},{label:"今日",value:"1"},{label:"昨日",value:"2"},{label:"本周",value:"3"},{label:"本月",value:"4"},{label:"本年度",value:"5"},{label:"自定义",value:"6"}],invalidDate:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},filter_keyword:"",filter_state:"0",stateList:[{label:"全部",value:"0"},{label:"待派工",value:"1"},{label:"待完工",value:"2"},{label:"已完成",value:"3"}],filter_type:"0",typeList:[{label:"全部",value:"0"},{label:"维修",value:"1"},{label:"保养",value:"2"}],columns:[{title:"工单号",key:"order_no",align:"center"},{title:"工单状态",key:"order_state",slot:"order_state",align:"center"},{title:"报单时间",key:"order_time",align:"center"},{title:"客户名称",key:"customer_name",align:"center"},{title:"问题描述",key:"desc",align:"center"},{title:"处理方式",key:"solve",align:"center",width:90},{title:"处理详情",key:"solve_detail",align:"center"},{title:"处理人",key:"solve_people",align:"center",width:80},{title:"处理时间",key:"solve_time",align:"center"},{title:"操作",slot:"action",width:130,align:"center"}],order_list:[{order_no:"AN201909241512001",order_state:"1",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"远程解决",solve_detail:"",solve_people:"",solve_time:""},{order_no:"AN201909241512002",order_state:"2",order_time:"2019-09-24 15:12",customer_name:"开发区政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"上门维修",solve_detail:"路由器断电5秒后重启，问题解决",solve_people:"李彦宏"},{order_no:"AN201909241512001",order_state:"3",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"无法登录内网，路由器错误灯闪烁",solve:"远程解决",solve_detail:"路由器断电5秒后重启，问题解决",solve_people:"马化腾",solve_time:"2019-09-24 15:24"}],order_total:3,exportLoading:!1}},methods:{showDetail:function(){},remove:function(){},goAddOrder:function(){this.$router.push({path:"/workOrder/add_order"})},exportExcel:function(){if(this.order_list.length){this.exportLoading=!0;var e=this.columns.map(function(e){if(e.key)return e.title}).filter(function(e){return void 0!=e}),t=this.columns.map(function(e){if(e.key)return e.key}).filter(function(e){return void 0!=e}),l=this.order_list.map(function(e){return Object(i["a"])({},e,{order_state:1==e.order_state?"待派工":2==e.order_state?"待完工":3==e.order_state?"已完工":"其他"})}),a={title:e,key:t,data:l,autoWidth:!0,filename:"工单列表"};o["a"].export_array_to_excel(a),this.exportLoading=!1}else this.$Message.info("表格数据不能为空！")}}},s=n,c=(l("1933"),l("2877")),d=Object(c["a"])(s,a,r,!1,null,null,null);d.options.__file="order_list.vue";t["default"]=d.exports},1933:function(e,t,l){"use strict";var a=l("b5a8"),r=l.n(a);r.a},b5a8:function(e,t,l){}}]);
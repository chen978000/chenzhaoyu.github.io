(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fee737a"],{"1dc8":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main_box"},[a("Tabs",{attrs:{value:"name1"}},[a("TabPane",{attrs:{label:"自动工单列表",name:"name1"}},[a("div",{staticClass:"search_box"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"输入关键词查询",search:""},model:{value:e.filter_keyword,callback:function(t){e.filter_keyword=t},expression:"filter_keyword"}}),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单时间：")]),a("Select",{staticClass:"date_select",staticStyle:{width:"100px"},model:{value:e.filter_date,callback:function(t){e.filter_date=t},expression:"filter_date"}},e._l(e.dateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),e.filter_date==e.dateList.length-1?a("DatePicker",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{options:e.invalidDate,type:"daterange",placement:"bottom-end",placeholder:"自定义时间"}}):e._e(),a("span",{staticStyle:{"margin-left":"10px"}},[e._v("工单状态：")]),a("Select",{staticStyle:{width:"100px"},model:{value:e.filter_state,callback:function(t){e.filter_state=t},expression:"filter_state"}},e._l(e.stateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),a("Button",{staticStyle:{"margin-left":"10px",float:"right"},attrs:{type:"primary",loading:e.exportLoading},on:{click:e.exportExcel}},[e._v("导出EXCEL")])],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("Table",{attrs:{border:"",columns:e.columns,data:e.order_list},scopedSlots:e._u([{key:"order_state",fn:function(t){var l=t.row;t.index;return[2==l.order_state?a("span",{staticStyle:{color:"#FFAD33"}},[e._v("待完工")]):e._e(),3==l.order_state?a("span",{staticStyle:{color:"#47CB89"}},[e._v("已完工")]):e._e()]}},{key:"action",fn:function(t){t.row;var l=t.index;return[a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.remove(l)}}},[e._v("删除")])]}}])}),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("Page",{attrs:{total:e.order_total,"show-total":""}})],1)],1)]),a("TabPane",{attrs:{label:"自动工单设置",name:"name2"}},[a("div",{staticClass:"search_box",staticStyle:{"text-align":"right"}},[a("Button",{attrs:{type:"primary"},on:{click:e.goAddOrder}},[e._v("新增自动工单")])],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("Table",{attrs:{border:"",columns:e.auto_columns,data:e.auto_order_list},scopedSlots:e._u([{key:"action",fn:function(t){t.row;var l=t.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small"},on:{click:function(t){e.showDetail(l)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.remove(l)}}},[e._v("删除")])]}}])}),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("Page",{attrs:{total:e.order_total,"show-total":""}})],1)],1)])],1)],1)},r=[],i=a("be94"),o=a("0a21"),n={name:"order_list",data:function(){return{filter_date:"0",dateList:[{label:"全部",value:"0"},{label:"今日",value:"1"},{label:"昨日",value:"2"},{label:"本周",value:"3"},{label:"本月",value:"4"},{label:"本年度",value:"5"},{label:"自定义",value:"6"}],invalidDate:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},filter_keyword:"",filter_state:"0",stateList:[{label:"全部",value:"0"},{label:"待完工",value:"2"},{label:"已完成",value:"3"}],filter_type:"0",typeList:[{label:"全部",value:"0"},{label:"维修",value:"1"},{label:"保养",value:"2"}],columns:[{title:"工单号",key:"order_no",align:"center"},{title:"工单状态",key:"order_state",slot:"order_state",align:"center"},{title:"报单时间",key:"order_time",align:"center"},{title:"客户名称",key:"customer_name",align:"center"},{title:"问题描述",key:"desc",align:"center"},{title:"处理方式",key:"solve",align:"center",width:90},{title:"处理详情",key:"solve_detail",align:"center"},{title:"处理人",key:"solve_people",align:"center",width:80},{title:"处理时间",key:"solve_time",align:"center"},{title:"操作",slot:"action",width:130,align:"center"}],order_list:[{order_no:"BN201909241512001",order_state:"2",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"常规保养",solve:"上门维修",solve_detail:"",solve_people:"余承东",solve_time:""},{order_no:"BN201909241512002",order_state:"3",order_time:"2019-09-24 15:12",customer_name:"开发区政府",desc:"常规保养",solve:"上门维修",solve_detail:"清理散热片",solve_people:"李彦宏",solve_time:"2019-09-24 15:24"},{order_no:"BN201909241512001",order_state:"3",order_time:"2019-09-24 15:12",customer_name:"市政府",desc:"常规保养",solve:"上门维修",solve_detail:"清理散热片，清楚缓存",solve_people:"马化腾",solve_time:"2019-09-24 15:24"}],order_total:3,exportLoading:!1,auto_columns:[{title:"客户名称",key:"customer_name",align:"center"},{title:"设备名称",key:"device_name",align:"center"},{title:"循环周期",key:"circle_time",align:"center"},{title:"问题描述",key:"desc",align:"center"},{title:"处理方式",key:"solve",align:"center",width:90},{title:"操作",slot:"action",width:130,align:"center"}],auto_order_list:[{circle_time:"2个月",customer_name:"市政府",device_name:"服务路由器",desc:"常规保养",solve:"上门服务",solve_detail:""}]}},methods:{showDetail:function(){},remove:function(){},goAddOrder:function(){this.$router.push({path:"/workOrder/add_auto_order"})},exportExcel:function(){if(this.order_list.length){this.exportLoading=!0;var e=this.columns.map(function(e){if(e.key)return e.title}).filter(function(e){return void 0!=e}),t=this.columns.map(function(e){if(e.key)return e.key}).filter(function(e){return void 0!=e}),a=this.order_list.map(function(e){return Object(i["a"])({},e,{order_state:1==e.order_state?"待派工":2==e.order_state?"待完工":3==e.order_state?"已完工":"其他"})}),l={title:e,key:t,data:a,autoWidth:!0,filename:"工单列表"};o["a"].export_array_to_excel(l),this.exportLoading=!1}else this.$Message.info("表格数据不能为空！")}}},s=n,c=(a("7a66"),a("2877")),d=Object(c["a"])(s,l,r,!1,null,null,null);d.options.__file="auto_order_list.vue";t["default"]=d.exports},"5b21":function(e,t,a){},"7a66":function(e,t,a){"use strict";var l=a("5b21"),r=a.n(l);r.a}}]);